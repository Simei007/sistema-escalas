<div class="container">
  <div class="topo">
    <h2>Painel do Motorista</h2>
    <button type="button" class="btn-sair" (click)="sair()">Sair</button>
  </div>

  <p class="subtitle">Bem-vindo, {{ nomeMotorista }}. Confira suas escalas.</p>

  <p *ngIf="erro" class="erro">{{ erro }}</p>

  <div class="proxima" *ngIf="!carregando && proximaEscala as escala">
    <h3>Proxima Escala</h3>
    <p><strong>Data:</strong> {{ escala.data }}</p>
    <p><strong>Horario:</strong> {{ escala.hora_inicio }} - {{ escala.hora_fim }}</p>
    <p><strong>Servico:</strong> {{ escala.servico }}</p>
  </div>

  <div class="card">
    <div class="header-lista">
      <h3>Minhas Escalas</h3>
      <button type="button" (click)="carregarEscalas()" [disabled]="carregando">{{ carregando ? 'Atualizando...' : 'Atualizar' }}</button>
    </div>

    <table *ngIf="!carregando && escalas.length > 0">
      <thead>
        <tr>
          <th>Data</th>
          <th>Inicio</th>
          <th>Fim</th>
          <th>Servico</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let escala of escalas">
          <td>{{ escala.data }}</td>
          <td>{{ escala.hora_inicio }}</td>
          <td>{{ escala.hora_fim }}</td>
          <td>{{ escala.servico }}</td>
        </tr>
      </tbody>
    </table>

    <p *ngIf="carregando" class="vazio">Carregando escalas...</p>
    <p *ngIf="!carregando && escalas.length === 0" class="vazio">Nenhuma escala cadastrada.</p>
  </div>
</div>
